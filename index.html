<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App Games</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: #ffffff; /* White background */
            color: #1f2937; /* Dark gray text */
        }
        .game-card {
            background-color: #f9fafb; /* Very light gray */
            border: 1px solid #e5e7eb; /* Light gray border */
            transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
            cursor: pointer;
            overflow: hidden; 
        }
        .game-card:hover {
            transform: translateY(-8px);
            border-color: #3b82f6; /* Blue on hover */
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }
        .game-card img {
            width: 100%;
            aspect-ratio: 1 / 1; /* This makes the image square */
            object-fit: cover;
            background-color: #e5e7eb;
        }
        .game-card h2 {
            padding: 1rem;
            font-size: 1.5rem; /* Made the font size bigger */
            font-weight: 600;
            min-height: 80px; /* Adjusted height for bigger font */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .game-view {
            display: none;
            width: 100vw;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            background-color: #ffffff; /* Solid white for fullscreen */
            z-index: 50;
        }
        #game-frame {
            width: 100%;
            height: 100%;
            border: none; 
            background-color: #ffffff;
        }
        .back-button {
            background-color: #2563eb; /* A nice blue */
            color: white;
            font-weight: 600;
            transition: background-color 0.2s, left 0s, right 0s, transform 0s;
            position: fixed; /* Changed to fixed to float on top */
            top: 1rem;
            left: 1rem;
            border-radius: 8px; /* Added some rounding */
            border: none;
            z-index: 60; /* Ensure it's on top of the iframe */
        }
        .back-button:hover {
            background-color: #3b82f6; /* Lighter blue on hover */
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div id="game-menu">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900">Weather App Games</h1>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
            <div class="game-card text-center" onclick="showGame('frontend/weather-duck-rpg.html')">
                <img src="../assets/wdrpg.png" alt="Weather Duck RPG" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Weather+Duck+RPG';">
                <h2 class="text-gray-800">Weather Duck RPG</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/weather-duck-3d.html')">
                 <img src="../assets/wd3d.png" alt="Weather Duck 3D" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Weather+Duck+3D';">
                <h2 class="text-gray-800">Weather Duck 3D</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/weather-duck-roguelike.html')">
                 <img src="../assets/wdr.png" alt="Weather Duck Roguelike" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Weather+Duck+Roguelike';">
                <h2 class="text-gray-800">Weather Duck Roguelike</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/weather-duck-platformer.html')">
                 <img src="../assets/wdp.png" alt="Weather Duck platformer" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Weather+Duck+platformer';">
                <h2 class="text-gray-800">Weather Duck platformer</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/asgore-dess.html')">
                 <img src="../assets/arod.png" alt="Asgore runs over Dess: The game" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Asgore+runs+over+Dess:+The+game';">
                <h2 class="text-gray-800">Asgore runs over Dess: The game</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/acrobatic-platformer.html')">
                 <img src="../assets/ap.png" alt="Acrobatic Platformer" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Acrobatic+Platformer';">
                <h2 class="text-gray-800">Acrobatic Platformer</h2>
            </div>
            
            <div class="game-card text-center" onclick="showGame('frontend/waterrune.html')">
                 <img src="../assets/wr.png" alt="WaterRune demo" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=WaterRune+demo';">
                <h2 class="text-gray-800">WaterRune demo</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/mandelbrot-tetris.html')">
                 <img src="../assets/mt.png" alt="Mandelbrot Tetris" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Mandelbrot+Tetris';">
                <h2 class="text-gray-800">Mandelbrot Tetris</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/ducky-bird.html')">
                 <img src="../assets/dbs.png" alt="Ducky bird sandbox" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Ducky+bird+sandbox';">
                <h2 class="text-gray-800">Ducky bird sandbox</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/breathe-if-prime.html')">
                 <img src="../assets/bip.png" alt="Breathe if prime" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Breathe+if+prime';">
                <h2 class="text-gray-800">Breathe if prime</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/math-hell.html')">
                 <img src="../assets/mh.png" alt="Math Hell" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Math+Hell';">
                <h2 class="text-gray-800">Math Hell</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/5d-platformer.html')">
                 <img src="../assets/5dp.png" alt="5D Platformer" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=5D+Platformer';">
                <h2 class="text-gray-800">5D Platformer</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/math-bird.html')">
                 <img src="../assets/mb.png" alt="Math Bird" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Math+Bird';">
                <h2 class="text-gray-800">Math Bird</h2>
            </div>

            <div class="game-card text-center" onclick="showGame('frontend/math-hell.html')">
                 <img src="../assets/mh.png" alt="Math Hell" onerror="this.onerror=null;this.src='https://placehold.co/300x300/e5e7eb/4b5563?text=Math+Hell';">
                <h2 class="text-gray-800">Math Hell</h2>
            </div>
        </main>
    </div>

    <div id="game-view" class="game-view">
        <iframe id="game-frame" src="about:blank" allowfullscreen></iframe>
        <button class="back-button px-6 py-3 text-xl" onclick="showMenu()">Back to Menu</button>
    </div>

    <script>
        const gameMenu = document.getElementById('game-menu');
        const gameView = document.getElementById('game-view');
        const gameFrame = document.getElementById('game-frame');
        const backButton = document.querySelector('.back-button');

        const specialGames = ['frontend/asgore-dess.html', 'frontend/math-hell.html', 'frontend/5d-platformer.html'];

        function showGame(gameUrl) {
            // Check if the current game needs the button in the center by checking the end of the string
            const gameFile = gameUrl.split('/').pop();
            if (specialGames.map(s => s.split('/').pop()).includes(gameFile)) {
                backButton.style.left = '50%';
                backButton.style.transform = 'translateX(-50%)';
                backButton.style.right = 'auto';
            } else {
                // Otherwise, ensure it's on the left
                backButton.style.left = '1rem';
                backButton.style.transform = 'none';
                backButton.style.right = 'auto';
            }

            document.body.style.overflow = 'hidden'; // Prevent scrolling behind the game
            gameMenu.style.display = 'none';
            gameView.style.display = 'block';
            gameFrame.src = gameUrl; // Load the selected game's HTML file
        }

        function showMenu() {
            document.body.style.overflow = ''; // Restore default scrolling
            gameMenu.style.display = 'block';
            gameView.style.display = 'none';
            gameFrame.src = 'about:blank'; // Unload the game to stop it from running
        }
    </script>
</body>
</html>
