<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Duck Games</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: monospace;
            background-color: #ffffff;
            color: #000000;
        }

        /* General Card Styling */
        .game-card {
            border: 1px solid #000000;
            cursor: pointer;
            overflow: hidden; 
            position: relative; /* Needed for positioning the NEW tag */
            background: #fff;
        }

        .game-card:hover {
            background-color: #f4f4f4;
        }

        .game-card img {
            width: 100%;
            aspect-ratio: 1 / 1;
            object-fit: cover;
            background-color: #eee;
            border-bottom: 1px solid #000;
            display: block;
        }

        /* BIG CARDS (Best Games) */
        .game-card-large h2 {
            padding: 1.5rem;
            font-size: 2rem; 
            font-weight: bold;
            text-align: center;
        }

        /* SMALL CARDS (Other Games) */
        .game-card-small h2 {
            padding: 0.5rem;
            font-size: 1rem;
            font-weight: normal;
            text-align: center;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        /* The NEW Tag - Red Square with Exclamation Mark */
        .new-tag {
            position: absolute;
            top: 0;
            right: 0;
            width: 40px;
            height: 40px;
            background-color: #ef4444; /* Red */
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            z-index: 10;
        }

        /* Game View (Fullscreen) */
        .game-view {
            display: none;
            width: 100vw;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            background-color: #ffffff;
            z-index: 50;
        }

        #game-frame {
            width: 100%;
            height: 100%;
            border: none; 
            background-color: #ffffff;
        }

        .back-button {
            background-color: #000;
            color: white;
            font-family: monospace;
            padding: 10px 20px;
            position: fixed;
            top: 1rem;
            left: 1rem;
            border: none;
            z-index: 60;
            cursor: pointer;
        }
        
        .back-button:hover {
            background-color: #444;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div id="game-menu">
        <header class="text-center mb-12">
            <h1 class="text-5xl font-bold mb-2">Weather duck games</h1>
            <p class="text-xl">some games we made</p>
        </header>

        <!-- SECTION 1: BEST GAMES (BIG) -->
        <div class="max-w-6xl mx-auto mb-16">
            <h3 class="text-2xl font-bold mb-4 border-b border-black pb-2">Best Games</h3>
            <div id="best-games-container" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Javascript will inject games here -->
            </div>
        </div>

        <!-- SECTION 2: OTHER GAMES (SMALL) -->
        <div class="max-w-6xl mx-auto">
            <h3 class="text-xl mb-4 border-b border-black pb-2">Other Games</h3>
            <!-- Grid is 2 cols on mobile, 4 on desktop -->
            <div id="other-games-container" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                 <!-- Javascript will inject games here -->
            </div>
        </div>
    </div>

    <div id="game-view" class="game-view">
        <iframe id="game-frame" src="about:blank" allowfullscreen></iframe>
        <button class="back-button" onclick="showMenu()">Back to Menu</button>
    </div>

    <script>
        // ==========================================
        // CONFIGURATION: ADD YOUR GAMES HERE
        // ==========================================
        
        // 1. BEST GAMES (Shown Big at the top)
        const bestGames = [
            { 
                title: "Weather Duck RPG", 
                url: "frontend/weather-duck-rpg.html", 
                img: "../assets/weather-duck-rpg.png",
                isNew: true
            },
            { 
                title: "Weather Duck Roguelike", 
                url: "frontend/weather-duck-roguelike.html", 
                img: "../assets/weather-duck-roguelike.png",
                isNew: false
            },
            { 
                title: "Weather Duck Platformer", 
                url: "frontend/weather-duck-platformer.html", 
                img: "../assets/weather-duck-platformer.png",
                isNew: false
            },
            { 
                title: "WaterRune Demo", 
                url: "frontend/waterrune.html", 
                img: "../assets/waterrune.png",
                isNew: false
            }
        ];

        // 2. OTHER GAMES (Shown smaller below)
        const otherGames = [
            { title: "Weather Duck 3D", url: "frontend/weather-duck-3d.html", img: "../assets/weather-duck-3d.png", isNew: false },
            { title: "Asgore runs over Dess", url: "frontend/asgore-runs-over-dess.html", img: "../assets/asgore-runs-over-dess.png", isNew: false },
            { title: "Acrobatic Platformer", url: "frontend/acrobatic-platformer.html", img: "../assets/acrobatic-platformer.png", isNew: false },
            { title: "Ducky bird sandbox", url: "frontend/ducky-bird.html", img: "../assets/ducky-bird.png", isNew: false },
            { title: "Breathe if prime", url: "frontend/breathe-if-prime.html", img: "../assets/breathe-if-prime.png", isNew: false },
            { title: "Math Hell", url: "frontend/math-hell.html", img: "../assets/math-hell.png", isNew: false },
            { title: "5D Platformer", url: "frontend/5d-platformer.html", img: "../assets/5d-platformer.png", isNew: false },
            { title: "Math Bird", url: "frontend/math-bird.html", img: "../assets/math-bird.png", isNew: false }
        ];

        // List of games that require the back button to be centered (special cases)
        const centerButtonGames = ['asgore-runs-over-dess.html', 'math-hell.html', '5d-platformer.html'];


        // ==========================================
        // RENDER LOGIC (Do not need to touch below)
        // ==========================================

        function renderGames() {
            const bestContainer = document.getElementById('best-games-container');
            const otherContainer = document.getElementById('other-games-container');

            // Render Function
            const createCard = (game, isLarge) => {
                const cardClass = isLarge ? 'game-card-large' : 'game-card-small';
                
                // HTML Template
                return `
                <div class="game-card ${cardClass}" onclick="showGame('${game.url}')">
                    ${game.isNew ? '<div class="new-tag">!</div>' : ''}
                    <img src="${game.img}" alt="${game.title}" 
                         onerror="this.onerror=null;this.src='https://placehold.co/${isLarge ? '600x600' : '300x300'}/eee/000?text=${encodeURIComponent(game.title)}';">
                    <h2>${game.title}</h2>
                </div>
                `;
            };

            // Inject HTML
            bestContainer.innerHTML = bestGames.map(game => createCard(game, true)).join('');
            otherContainer.innerHTML = otherGames.map(game => createCard(game, false)).join('');
        }

        // Initialize display
        renderGames();

        // ==========================================
        // VIEW CONTROLLER
        // ==========================================

        const gameMenu = document.getElementById('game-menu');
        const gameView = document.getElementById('game-view');
        const gameFrame = document.getElementById('game-frame');
        const backButton = document.querySelector('.back-button');

        function showGame(gameUrl) {
            const gameFile = gameUrl.split('/').pop();
            
            // Check if this game is in the special center-button list
            if (centerButtonGames.includes(gameFile)) {
                backButton.style.left = '50%';
                backButton.style.transform = 'translateX(-50%)';
                backButton.style.right = 'auto';
            } else {
                backButton.style.left = '1rem';
                backButton.style.transform = 'none';
                backButton.style.right = 'auto';
            }

            document.body.style.overflow = 'hidden';
            gameMenu.style.display = 'none';
            gameView.style.display = 'block';
            gameFrame.src = gameUrl;
        }

        function showMenu() {
            document.body.style.overflow = ''; 
            gameMenu.style.display = 'block';
            gameView.style.display = 'none';
            gameFrame.src = 'about:blank'; 
        }
    </script>
</body>
</html>
