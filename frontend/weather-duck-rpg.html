<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Duck RPG</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: monospace;
            background-color: #ffffff;
            color: #000000;
        }

        /* General Card Styling */
        .game-card {
            border: 1px solid #000000;
            cursor: pointer;
            overflow: hidden; 
            position: relative;
            background: #fff;
        }

        .game-card:hover {
            background-color: #f4f4f4;
        }

        .game-card img {
            width: 100%;
            aspect-ratio: 1 / 1;
            object-fit: cover;
            background-color: #eee;
            border-bottom: 1px solid #000;
            display: block;
        }

        /* SMALL CARDS STYLING (Applied to all now) */
        .game-card h2 {
            padding: 0.5rem;
            font-size: 1rem;
            font-weight: normal;
            text-align: center;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        /* The NEW Tag - Red Square with Exclamation Mark */
        .new-tag {
            position: absolute;
            top: 0;
            right: 0;
            width: 30px; /* Made slightly smaller for small cards */
            height: 30px;
            background-color: #ef4444; /* Red */
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            z-index: 10;
        }

        /* Game View (Fullscreen) */
        .game-view {
            display: none;
            width: 100vw;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            background-color: #ffffff;
            z-index: 50;
        }

        #game-frame {
            width: 100%;
            height: 100%;
            border: none; 
            background-color: #ffffff;
        }

        .back-button {
            background-color: #000;
            color: white;
            font-family: monospace;
            padding: 10px 20px;
            position: fixed;
            top: 1rem;
            left: 1rem;
            border: none;
            z-index: 60;
            cursor: pointer;
        }
        
        .back-button:hover {
            background-color: #444;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div id="game-menu">
        <header class="text-center mb-12">
            <h1 class="text-5xl font-bold mb-2">Weather duck rpg</h1>
        </header>

        <div class="max-w-6xl mx-auto">
            <div id="games-container" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                 </div>
        </div>
    </div>

    <div id="game-view" class="game-view">
        <iframe id="game-frame" src="about:blank" allowfullscreen></iframe>
        <button class="back-button" onclick="showMenu()">Back to Menu</button>
    </div>

    <script>
        // ==========================================
        // CONFIGURATION: ADD YOUR GAMES HERE
        // ==========================================
        
        // Combined list of all games
        const allGames = [
            { title: "Chapter 1", url: "rpg-1-1.html", img: "../assets/weather-duck-rpg.png", isNew: false },
            { 
                title: "Chapter 2", 
                url: "rpg-2-0.html", 
                img: "../assets/weather-duck-rpg.png",
                isNew: true
            },
            { 
                title: "Chapter 3 BETA", 
                url: "rpg-3-b.html", 
                img: "../assets/weather-duck-rpg.png",
                isNew: true
            },
            { title: "Original", url: "rpg-1-0.html", img: "../assets/weather-duck-rpg.png", isNew: false },
            
            // Add any other games here...
        ];

        // List of games that require the back button to be centered (special cases)
        const centerButtonGames = ['asgore-dess.html', 'math-hell.html', '5d-platformer.html'];


        // ==========================================
        // RENDER LOGIC
        // ==========================================

        function renderGames() {
            const container = document.getElementById('games-container');

            // Render Function
            const createCard = (game) => {
                // HTML Template
                return `
                <div class="game-card" onclick="showGame('${game.url}')">
                    ${game.isNew ? '<div class="new-tag">!</div>' : ''}
                    <img src="${game.img}" alt="${game.title}" 
                         onerror="this.onerror=null;this.src='https://placehold.co/300x300/eee/000?text=${encodeURIComponent(game.title)}';">
                    <h2>${game.title}</h2>
                </div>
                `;
            };

            // Inject HTML
            container.innerHTML = allGames.map(game => createCard(game)).join('');
        }

        // Initialize display
        renderGames();

        // ==========================================
        // VIEW CONTROLLER
        // ==========================================

        const gameMenu = document.getElementById('game-menu');
        const gameView = document.getElementById('game-view');
        const gameFrame = document.getElementById('game-frame');
        const backButton = document.querySelector('.back-button');

        function showGame(gameUrl) {
            const gameFile = gameUrl.split('/').pop();
            
            // Check if this game is in the special center-button list
            if (centerButtonGames.includes(gameFile)) {
                backButton.style.left = '50%';
                backButton.style.transform = 'translateX(-50%)';
                backButton.style.right = 'auto';
            } else {
                backButton.style.left = '1rem';
                backButton.style.transform = 'none';
                backButton.style.right = 'auto';
            }

            document.body.style.overflow = 'hidden';
            gameMenu.style.display = 'none';
            gameView.style.display = 'block';
            gameFrame.src = gameUrl;
        }

        function showMenu() {
            document.body.style.overflow = ''; 
            gameMenu.style.display = 'block';
            gameView.style.display = 'none';
            gameFrame.src = 'about:blank'; 
        }
    </script>
</body>
</html>
